# sendToGuardianBlock

### 1. Properties

| Block Property   | Definition                                                                                                                                                                                                                                                                                 | Example Input                                                                                                                                                                                                                   | Status |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ |
| type             | A type of the block which can save a new or updated document.                                                                                                                                                                                                                              | **sendToGuardianBlock** (Can't be changed).                                                                                                                                                                                     |        |
| tag              | Unique name for the logic block.                                                                                                                                                                                                                                                           | save\_new\_approved\_document.                                                                                                                                                                                                  |        |
| permissions      | Which entity has rights to interact at this part of the workflow.                                                                                                                                                                                                                          | Standard Registry.                                                                                                                                                                                                              |        |
| defaultActive    | Shows whether this block is active at this time and whether it needs to be shown.                                                                                                                                                                                                          | Checked or unchecked.                                                                                                                                                                                                           |        |
| entityType       | Gives the document a label in the DB. Needed for filtering.                                                                                                                                                                                                                                | Installer.                                                                                                                                                                                                                      |        |
| stop Propagation | End processing here, don't pass control to the next block.                                                                                                                                                                                                                                 | Checked or Unchecked.                                                                                                                                                                                                           |        |
| options          | List of attributes, which is added to the VC when it is being persistent. Can be used for more flexible filtration.                                                                                                                                                                        | <p>"name": "status"</p><p>"value": "Minted",</p>                                                                                                                                                                                |        |
| dataSource       | Where to send Data                                                                                                                                                                                                                                                                         | Database / Hedera / Hedera Topic / Auto                                                                                                                                                                                         |        |
| documentType     | Type of Document                                                                                                                                                                                                                                                                           | VC / DID / VP                                                                                                                                                                                                                   |        |
| topic            | Topic to send a document if 'dataSource' = 'Hedera'                                                                                                                                                                                                                                        | topic                                                                                                                                                                                                                           |        |
| topicOwner       | if ‘Hedera Topic’ is selected for the ‘Source Type’ a new optional property ‘Topic Owner’ appears which shows which field determines the User, who will own the topic of the document. This is because in ‘Hedera Topic’ only the template of Topic is selected, not the the topic itself. | <p>Current User - user whose credentials were used to make the current post request</p><p>Document Owner - creator of the document (has default value)</p><p>Document Issuer - user which was the last to sign the document</p> |        |
| Memo             | if 'Data Source' is Hedera topic, this field is enabled. This is used to customize the Memo field name                                                                                                                                                                                     | example memo ${document.id}                                                                                                                                                                                                     |        |
| skipSaveState    | Allows to skip save document state to prevent display the state in history. This property is visible only when block has Data Source : “Database” or “Auto”.                                                                                                                               | Checked or Unchecked                                                                                                                                                                                                            |        |

{% hint style="info" %}
**Note:**

‘**Force New Document**’ option has been removed as its usage resulted in the duplicate documents (with the same hashes) polluting the storage and causing confusion in the links (when building trust chain). For the cases when a new document needs to be created on the basis of the old one please use ’**reassigningBlock**’ which would create new _proof_ and as result new document with the equivalent content but with a new hash.
{% endhint %}

### 2. Auto Property:

This option applied in most cases. When **Auto** is selected the system applies the following logic:

1\. If the hash of the new document (being saved) is different from the hash of the document then it is based on the message is sent to Hedera into the Policy Instance Topic.

2\. If the database contains another document with the same hash it gets refreshed, otherwise a new document is created in the database.

{% hint style="info" %}
RefreshEvents are used to refreshing the UI, instead of "dependencies" property.
{% endhint %}

### Events

| Property Name | Name in JSON | Property Value                                                    | Value in JSON                          | Description                                                                                                                     |
| ------------- | ------------ | ----------------------------------------------------------------- | -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| Event Type    | -            | <p>Input Event</p><p>Output Event</p>                             | -                                      | Type of the event - determines whether this is ingress or egress event for the current block.                                   |
| Source        | "source"     | Block tag(string)                                                 | "block\_tag"                           | The block which initiates the event.                                                                                            |
| Target        | "target"     | Block tag(string)                                                 | "block\_tag"                           | The block which receives the event.                                                                                             |
| Output Event  | "output"     | Event name(string)                                                | "event\_name"                          | Action or issue that caused the event.                                                                                          |
| Input Event   | "input"      | Event name(string)                                                | "event\_name"                          | Action which will be triggered by the event.                                                                                    |
| Event Actor   | "actor"      | <p>Event Initiator</p><p>Document Owner</p><p>Document Issuer</p> | <p>""</p><p>"owner"</p><p>"issuer"</p> | Allows to transfer control of the block (execution context) to another user. Empty field leaves control at the Event Initiator. |
| Disabled      | "disabled"   | True/False                                                        | true/false                             | Allows to disable the event without deleting it.                                                                                |

To know more information about events, please look at [Events](events.md).
