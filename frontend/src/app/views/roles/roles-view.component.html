<div *ngIf="loading" class="loading">
    <div class="preloader-image preloader-image-l-size"></div>
</div>

<div class="container">

    <div class="page-title">Roles</div>

    <div class="actions">
        <div class="actions-controls-container">
            <div class="filters-container">


            </div>
            <div class="actions-container">
                <p-button
                    *ngIf="user.PERMISSIONS_ROLE_CREATE"
                    (click)="onCreate()"
                    class="toolbar-btn-primary"
                    [pTooltip]="'Create a Role'"
                    tooltipPosition="bottom">
                    <svg-icon src="/assets/images/icons/add.svg" svgClass="color-white"></svg-icon>
                </p-button>
            </div>
        </div>
    </div>

    <ng-container *ngIf="page && page.length > 0; else noData">
        <div class="table-container">
            <p-table [value]="page">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="header-cell-text cell-size-id">Name</th>
                        <th class="header-cell-text cell-size-operations">OPERATIONS</th>
                    </tr>
                </ng-template>

                <ng-template let-row pTemplate="body">
                    <tr class="table-row">
                        <td class="cell-size-id">{{ row.name }}</td>
                        <td class="cell-size-operations">
                            <div class="flex flex-column-gap-20">
                                <svg-icon (click)="goToUsers(row)"
                                    class="opacity-icon"
                                    src="/assets/images/icons/group.svg"
                                    [svgClass]="'primary-color'"></svg-icon>
                                <svg-icon (click)="onEdit(row)"
                                    class="opacity-icon"
                                    src="/assets/images/icons/edit.svg"
                                    [svgClass]="'primary-color'"></svg-icon>
                                <svg-icon (click)="onDelete(row)"
                                    class="opacity-icon"
                                    src="/assets/images/icons/delete.svg"
                                    [svgClass]="'delete-color'"></svg-icon>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

        <app-paginator 
            [pageIndex]="pageIndex" 
            [pageSize]="pageSize" 
            [length]="count"
            (page)="onPage($event)"
        ></app-paginator>
    </ng-container>
</div>

<ng-template #noData>
    <div class="not-exist">
        <svg-icon class="svg-icon-32" src="/assets/images/icons/32/list.svg" svgClass="disabled-color">
        </svg-icon>
        <span class="info-text-strong">There were no Roles created yet</span>
        <span class="info-text">Please create new role to see the data</span>
    </div>
</ng-template>