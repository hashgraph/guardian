<div class="flex flex-col gap-2">
    <div class="font-semibold">{{ item.title || 'Table' }}</div>

    <div class="flex gap-2">
        <label class="p-button p-component" *ngIf="!readonly">
            <input
                    type="file"
                    accept=".csv,text/csv"
                    hidden
                    (change)="onFileChange($event)"
                    [disabled]="isImporting"
            />
            <span>{{ isImporting ? 'Importing…' : 'Import CSV' }}</span>
        </label>

        <button
                class="p-button p-component p-button-outlined"
                (click)="openModal()
      "
                [disabled]="readonly || isImporting"
        >
            Open Table
        </button>

        <button
                class="p-button p-component p-button-text"
                (click)="clearTable()"
                [disabled]="readonly || isImporting || !((rowData || []).length || (columnDefs || []).length)"
                title="Clear table data"
        >
            Clear table
        </button>
    </div>

    <div class="text-xs opacity-70">
        <ng-container *ngIf="isImporting; else importedInfo">Importing…</ng-container>
        <ng-template #importedInfo>
            {{ (rowData || []).length ? ('Imported ' + rowData.length + ' rows') : 'No data' }}
        </ng-template>
    </div>

    <div *ngIf="previewError">{{ previewError }}</div>
    <div *ngIf="importError">{{ importError }}</div>
</div>
