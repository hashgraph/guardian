<div *ngIf="loading" class="loading">
    <p-progressSpinner></p-progressSpinner>
</div>

<div *ngIf="recording" class="recording-container">
    <div class="recording-menu">
        <div class="recording-menu-label">
            <div class="recording-animation">
                <div class="recording-circle"></div>
                <div class="recording-text">REC</div>
            </div>
        </div>
        <div class="recording-menu-btn" title="Stop" (click)="stopRecording()">
            <i class="pi pi-stop"></i>
        </div>
        <div class="recording-menu-btn" title="Actions" (click)="onShowActions()">
            <i class="pi pi-bars"></i>
        </div>
    </div>

    <div
        *ngIf="showActions"
        class="record-logs"
        [attr.record-status]="recordStatus">
        <div *ngIf="this.recordError" class="record-error">
            {{ this.recordError }}
        </div>
        <div
            *ngFor="let item of recordItems"
            class="record-item"
            [attr.selected]="item._selected"
        >
            <div class="record-item-index">{{ item._index }}</div>
            <div class="record-item-method">{{ item._title }}</div>
            <div class="record-item-time">{{ item._time }}</div>
        </div>
    </div>

</div>


<div *ngIf="running" class="running-container">
    <div class="running-menu">
        <div class="running-menu-label">
            <div class="running-animation">
                <div class="running-circle"></div>
                <div class="running-text">{{ recordIndex }}/{{ recordCount }}</div>
            </div>
        </div>

        <div *ngIf="this.recordError" class="running-menu-btn" title="Retry step" (click)="retryStep()">
            <i class="pi pi-play"></i>
        </div>
        <div *ngIf="this.recordError" class="running-menu-btn" title="Skip step" (click)="skipStep()">
            <i class="pi pi-replay"></i>
        </div>
        <div class="running-menu-btn" title="Fast Forward" (click)="fastForward()">
            <i class="pi pi-step-forward"></i>
        </div>
        <div class="running-menu-btn" title="Stop" (click)="stopRunning()">
            <i class="pi pi-stop"></i>
        </div>
        <div class="running-menu-btn" title="Actions" (click)="onShowActions()">
            <i class="pi pi-bars"></i>
        </div>
    </div>

    <div
        *ngIf="showActions"
        class="record-logs"
        [attr.record-status]="recordStatus">
        <div *ngIf="this.recordError" class="record-error">
            {{ this.recordError }}
        </div>
        <div
            *ngFor="let item of recordItems"
            class="record-item"
            [attr.selected]="item._selected"
            tooltipPosition="left"
            tooltipStyleClass="record-tooltip"
            [pTooltip]="item._tooltip"
        >
            <div class="record-item-index">{{ item._index }}</div>
            <div class="record-item-method">{{ item._title }}</div>
            <div class="record-item-time">{{ item._time }}</div>
        </div>
    </div>

    <div *ngIf="overlay" class="running-overlay" (click)="onOverlay()">

    </div>
</div>
