<div class="dialog-header">
    <div *ngIf="name" class="header-container">
        <div class="header-text">Search based on</div>
        <div class="header-item">{{name}}</div>
    </div>
    <div *ngIf="!name" class="header-container">
        <div class="header-text">Search tools</div>
    </div>
    <div class="header-icon" (click)="onClose()">
        <svg-icon src="/assets/images/icons/close.svg" svgClass="close-icon-color"></svg-icon>
    </div>
</div>
<div class="dialog-body">
    <div class="context">
        <div *ngIf="loading" class="loading">
            <div class="preloader-image preloader-image-l-size"></div>
        </div>

        <form [formGroup]="filtersForm" class="filters">
            <div class="filter-row">
                <div class="p-input-icon-right guardian-input-container">
                    <input
                        class="search-policy-input"
                        formControlName="name"
                        pInputText
                        placeholder="Search by keyword"
                        type="text" 
                        (change)="onFilters()" />
                    <i class="pi pi-search search-icon"></i>
                </div>
            </div>
        </form>
        <div *ngIf="list && list.length" class="grid-container">
            <div class="grid-header">
                <div class="col-250">ID</div>
                <div class="col-auto">Name</div>
                <div class="col-120"></div>
            </div>
            <div class="grid-body">
                <div *ngFor="let item of list" class="grid-row">
                    <div class="col-250">{{item.messageId}}</div>
                    <div class="col-auto">{{item.name}}</div>
                    <div class="col-120 button-col">
                        <button 
                            (click)="onSelect(item.messageId)"
                            class="guardian-button guardian-button-primary">Select</button>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="!list || !list.length" class="empty-grid">
            <div class="empty-grid-icon">
                <svg-icon
                    class="svg-icon-32"
                    src="/assets/images/icons/32/search.svg"
                    svgClass="empty-icon-color">
                </svg-icon>
            </div>
            <ng-container>
                <div class="empty-grid-header">There are no tools</div>
                <div class="empty-grid-text">Please try to change or clear filters</div>
            </ng-container>
        </div>
    </div>
</div>
<div class="dialog-footer">
    <div class="action-buttons">
        <div class="cancel-button">
            <button (click)="onClose()" class="button secondary" label="Cancel" pButton></button>
        </div>
    </div>
</div>
