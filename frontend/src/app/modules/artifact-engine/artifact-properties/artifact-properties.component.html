<div class="artifact-container">
    <div (cdkDropListDropped)="changeArtifactPosition($event)" *ngIf="this.currentBlock.artifacts.length > 0"
         [cdkDropListData]="this.currentBlock.artifacts"
         cdkDropList class="artifact-list"
         [cdkDropListDisabled]="readonly">
        <div class="artifact-row" *ngFor="let artifact of this.currentBlock.artifacts; let i = index;" cdkDrag>
            <i class="pi pi-bars"></i>
            {{ artifact.name }} ({{ artifact.type }})
            <span class="remove-prop" [attr.readonly]="readonly" (click)="removeArtifact(artifact)">
                     <i class="pi pi-trash"></i>
            </span>
        </div>
    </div>
    <button (click)="menu.toggle($event)" class="add-artifact-button" mat-button>
        <i class="pi pi-plus toolbar-icons"></i>
    </button>
    <p-overlayPanel #menu>
        <ng-container *ngFor="let artifact of policyArtifacts">
            <button (click)="addArtifact(artifact)" [disabled]="readonly" mat-menu-item>
                {{ artifact.name }} ({{ artifact.type }})
            </button>
        </ng-container>
    </p-overlayPanel>
</div>
