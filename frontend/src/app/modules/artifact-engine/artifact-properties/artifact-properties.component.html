<div class="artifact-container">
    <div (cdkDropListDropped)="changeArtifactPosition($event)" *ngIf="this.currentBlock.artifacts.length > 0"
         [cdkDropListData]="this.currentBlock.artifacts"
         cdkDropList class="artifact-list"
         [cdkDropListDisabled]="readonly">
        <div class="artifact-row" *ngFor="let artifact of this.currentBlock.artifacts; let i = index;" cdkDrag>
            <i class="pi pi-bars"></i>
            {{ artifact.name }} ({{ artifact.type }})
            <span class="remove-prop" [attr.readonly]="readonly" (click)="removeArtifact(artifact)">
                     <i class="pi pi-trash"></i>
            </span>
        </div>
    </div>

    <button pButton (click)="menu.toggle($event)" class="add-artifact-button p-button-rounded p-button-text">
        <i class="pi pi-plus toolbar-icons"></i>
    </button>
    <p-overlayPanel #menu>
        <div *ngFor="let artifact of policyArtifacts" class="artifact-row">
            <button
                pButton
                class="p-button-text"
                (click)="addArtifact(artifact)"
                [disabled]="readonly"
            >
                {{ artifact.name }} ({{ artifact.type }})
            </button>
        </div>
    </p-overlayPanel>
</div>
