<p-dialog [(visible)]="isVisible" [header]="title" [modal]="true" [closable]="false" (onHide)="onNoClick()"
          [draggable]="false" class="p-dialog dialog">
    <ng-template pTemplate="header">
        <span class="modal-header p-dialog-header">{{ title }}</span>
    </ng-template>
    <div class="dialog-content">
        <form [formGroup]="dataForm">
            <div *ngFor="let field of fieldsConfig" class="form-field">
                <div class="custom-form-field"
                     [ngClass]="{'invalid': dataForm.get(field.name)?.invalid && dataForm.get(field.name)?.touched}">
                    <input pInputText type="text"
                           [placeholder]="field.label"
                           [formControlName]="field.name"
                           class="custom-input"/>
                </div>
            </div>
            <div class="dialog-actions">
                <button
                    pButton
                    class="button secondary"
                    icon="pi pi-check"
                    label="Ok"
                    type="button"
                    [disabled]="!dataForm.valid"
                    (click)="dialogRef.close(dataForm.value)">
                </button>

                <button
                    pButton
                    class="button"
                    icon="pi pi-times"
                    label="Cancel"
                    type="button"
                    (click)="onNoClick()">
                </button>
            </div>
        </form>
    </div>
    <div *ngIf="loading" class="loading">
        <p-progressSpinner></p-progressSpinner>
    </div>
</p-dialog>
